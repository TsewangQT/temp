<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <script src="./tailwindcss.js"></script>
    <link rel="icon" type="image/x-icon" href="images/default.png" />
    <title>
      常见问题 推墙运动 墙倒众人推 大翻墙运动 拆墙运动 普及翻墙 完全免费翻墙软件
    </title>
    <meta charset="UTF-8" />
    <meta
      name="description"
      content="推墙运动 墙倒众人推 大翻墙运动 拆除互联网防火墙 拆墙运动 声援乔鑫鑫 杨泽伟 编程随想 阮晓寰 "
    />
    <meta
      name="keywords"
      content="推墙运动 墙倒众人推 大翻墙运动 完全免费翻墙软件 梯子 机场 拆墙机场 回国机场 回国梯子 代理 Vmess Shadowsocks Trojan v2ray v2board Shadowrocket GFW 突破防火墙 VPN 防火墙 拆墙运动 拆墙 推墙 fanqiang 科学上网 自由上网 免费科学上网 免费翻墙 油管youtube 电脑、手机、iOS、安卓、windows、Mac、Linux 推特"
    />

    <script>
      fetch('header.html')
        .then((response) => response.text())
        .then((text) => {
          document.getElementById('header').innerHTML = text;

          const mobileHeader = document.getElementById('mobile-header');
          const closeMenu = document.getElementById('close-menu');
          const openMenu = document.getElementById('open-menu');

          mobileHeader.classList.add('hidden');

          closeMenu.onclick = () => {
            mobileHeader.classList.add('hidden');
          };

          openMenu.onclick = () => {
            mobileHeader.classList.remove('hidden');
          };
        });

      fetch('footer.html')
        .then((response) => response.text())
        .then((text) => {
          document.getElementById('footer').innerHTML = text;

          const currentYearSpan = document.getElementById('currentYear');
          const currentDate = new Date();
          const currentYear = currentDate.getFullYear();
          currentYearSpan.textContent = currentYear;
        });
    </script>
    <script>
      const currentDomain = window.location.hostname;

      // Check the domain and conditionally add the script
      if (
        currentDomain === 'end-gfw.com' ||
        currentDomain === 'vpn.ban-gfw.com'
      ) {
        const script = document.createElement('script');
        script.src =
          'https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-7165471280882308'; // Replace with your script URL
        script.type = 'text/javascript';
        script.async = true;
        script.crossorigin = 'anonymous';

        // Append the script to the document head or body
        document.head.appendChild(script);
      }
    </script>
  </head>
  <body>
    <div id="header"></div>
    <main>
      <div
        class="mx-auto max-w-2xl divide-y divide-gray-900/10 px-6 pb-8 sm:pt-12 lg:max-w-7xl lg:px-8"
      >
        <div
          id="event-group"
          class="pt-8 lg:grid lg:grid-cols-12 lg:gap-8 mt-10"
        ></div>
      </div>
    </main>
    <div id="footer"></div>

    <script>
      async function getEvent(year) {
        let temp = [];

        try {
          const res = await fetch(`/event?year=${year}`);

          temp = await res.json();
        } catch (err) {
          console.error('error loading data');
        }

        const data = temp;

        const eventGroupElement = document.getElementById('event-group');

        const elements = data.map((item) => {
          return `<dt
            class="text-base font-semibold leading-7 text-black lg:col-span-5"
          >
            ${item?.date}
          </dt>
          <dd class="mt-4 lg:col-span-7 lg:mt-0 text-black">
            ${item?.data?.map((a) => a.keyword)?.join(',')}
          </dd>`;
        });

        eventGroupElement.innerHTML = elements.join('');
      }

      getEvent('2024');
    </script>
  </body>
</html>
